<!DOCTYPE html>
<html lang="en">
  <%- include ('partials/head') %>

<body>
 <div class="  border w-75 mx-auto rounded container my-5">
  
<div class="my-6 px-5 py-3">
  <h1 class="card-title mt-4 mb-4 text-center">To Do List</h1>

  <form action="/add-tasks" method="post" class="w-75 mx-auto">
    <div class="mb-3">
      <label for="name" class="form-label">Title:</label>
      <input 
        type="text" 
        class="form-control" 
        id="title" 
        name="title"
        placeholder="Enter title "
        required
      />
    </div>

    <div class="mb-4">
      <label for="description" class="form-label">Description:</label>
      <textarea 
        class="form-control" 
        id="description" 
        name="description"
        rows="5" 
        placeholder="Type your message here..."
        
      ></textarea>
    </div>

    <div class="text-center">
      <button type="submit" class="btn w-50 btn-primary py-2">Save</button>
    </div>
  </form>
</div>





<div>

  <div>

 
  <% tasks.forEach( task =>{ %> 
<div  class="d-flex justify-content-between align-items-center  px-3 border mb-2 mx-2 mt-2 rounded <%= task.isCompleted ? 'bg-secondary-subtle ' : 'bg-success-subtle' %>">
  <div >
  <h5 class="pt-2 pb-1"><%= task.title %></h5>
  <p class=""><%= task.description %></p>
  <p class=""><%=new Date( task.createdAt).toLocaleString()%></p>

</div>
<div>
  <a href="/toggle/<%= task.id %>" class="btn text-light <%= task.isCompleted ? 'bg-secondary ' :'bg-success'  %>"><%= task.isCompleted ? 'Undo' : 'Completed'%></a>
   <a href="/edit/<%= task.id %>" class="btn bg-primary text-light">Edit</a>
    <a href="/delete/<%= task.id %>" class="bg-danger btn text-light">Delete</a>
</div>


</div>


</div>
<% }) %>
</div>



</div>

<!-- </div> -->

    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.7/js/bootstrap.min.js"></script>
</body>
</html>